<!DOCTYPE HTML>
<html>

<head>
	<title>Sportswear</title>
	<link rel="icon" href="./images/bolsa-de-la-compra.png">
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
</head>

<body class="is-preload">

	<!-- Sidebar -->
	<section id="sidebar">
		<div class="inner">
			<nav>
				<ul>
					<li><a href="#intro">inicio</a></li>
					<li><a href="#one">¿Cómo funciona este servicio de Analítica? </a></li>
					<li><a href="#two">Gráficas en tiempo real</a></li>
					<li><a href="#three">Seleccionar Envío</a></li>
					<li><a href="#four">Confirmación</a></li>
				</ul>
			</nav>
		</div>
	</section>

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Intro -->
		<section id="intro" class="wrapper style1 fullscreen fade-up">
			<div class="inner">
				<img src="images/SportSwearStore.png" class="image" style="height: 220px !important;" alt=""
					data-position="center center" />
				<h1>Sportswear Store data analysis</h1>
				<p>Bienvenidos al servicio de analítica de datos en tiempo real para la tienda<br> Sportswear Store. <a
						href="https://github.com/DCajiao/sportswear_store_v2">Encuentra más información aquí</a></p>
				<ul class="actions">
					<li><a href="#one" class="button scrolly"
							style="background-color: rgba(162, 0, 255, 0.623);">Llévame ahí</a></li>
				</ul>
			</div>
		</section>

		<!-- One -->
		<section id="one" class="wrapper style1 spotlights">
			<section>
				<img src="../../diagrams/architecture.png" alt="" data-position="center center" class="image"
					style="width: 600px; height: 400px;" />
				<div class="content">
					<div class="inner">
						<h2>¿Cómo funciona este servicio de Analítica?</h2>
						<ol>
							<li>Los datos se crean desde el servicio de la tienda (Backend en Java).</li>
							<li>Los datos de la tienda son almacenados en MongoDB Atlas.</li>
							<li>Los datos son consultados por la API de analítica a MongoDB Atlas.</li>
							<li>Se crean visualizaciones con los datos obtenidos.</li>
							<li>Esas visualizaciones son consultadas e insertadas al Frontend</li>
						</ol>
						<ul class="actions">
							<li><a href="#two" class="button scrolly"
									style="background-color: rgba(162, 0, 255, 0.623);">Veamos las gráficas</a></li>
						</ul>
					</div>
				</div>

			</section>
			<br><br><br><br>
		</section>
		<br>
		<!-- Two -->
		<section id="two">
			<section class="wrapper style2 spotlights inner">
				<br>
				<h2>
					<center>Gráficas en tiempo real</center>
				</h2>
				<section>
					<img src="https://sportswear-store-data-analysis-api.onrender.com/top_places" alt=""
						data-position="center center" class="image" style="width: 750px" />
					<div class="content">
						<div class="inner">
							<h3>. ¿Qué lugares han recibido más envíos?</h3>
							<p>Con este query se obtuvieron los datos:</p>
							<blockquote>Crea un POST a tabla compra para generar un registro</blockquote>
							<ul class="actions">
								<button id="iniciarCompraBtn">Iniciar</button>
							</ul>
						</div>
					</div>
				</section>
				<br>
				<section id="pregunta1"> <!-- Pregunta 1-->
					<img src="" data-src="https://sportswear-store-data-analysis-api.onrender.com/top_places" alt=""
						data-position="center center" class="image" style="width: 750px; height: 750px;" />
					<div class="content">
						<div class="inner">
							<h3>1. ¿Qué lugares han recibido más envíos?</h3>
							<p>Con este query se obtuvieron los datos:</p>
							<blockquote>{
								"$group": {<br>
								"_id": "$lugar_id",<br>
								"totalEnvios": { "$sum": 1 }}},<br><br>
								{"$lookup": {<br>
								"from": "Lugares",<br>
								"localField": "_id",<br>
								"foreignField": "_id",<br>
								"as": "lugar"}},<br><br>
								{"$unwind": "$lugar"},<br><br>
								{"$sort": { "totalEnvios": -1 }},<br><br>
								{"$limit": 3},<br><br>
								{"$project": {
								"_id": 0,<br>
								"lugar": "$lugar.nombre",<br>
								"totalEnvios": 
								}}<br></blockquote>
							<ul class="actions">
								<button onclick="reloadImage('pregunta1')">Cargar Gráfica</button>
							</ul>
						</div>
					</div>
				</section>
				<br>
				<section id="pregunta2"> <!-- Pregunta 2-->
					<img src="" data-src="https://sportswear-store-data-analysis-api.onrender.com/top_purchases_by_date"
						alt="" data-position="center center" class="image" style="width: 750px" />
					<div class="content">
						<div class="inner">
							<h3>2. ¿Cuáles son las 3 fechas en las que se han realizado más compras?</h3>
							<p>Con este query se obtuvieron los datos:</p>
							<blockquote>{
								"$group": {<br>
								"_id": { "$dateToString": { "format": "%Y-%m-%d", "date": "$fechaCompra" }},<br>
								"totalCompras": { "$sum": 1 }}},<br><br>
								{"$sort": { "totalCompras": -1 }},<br><br>
								{"$limit": 3},<br><br>
								{"$project": {<br>
								"_id": 0,<br>
								"fecha": "$_id",<br>
								"totalCompras": 1}}</blockquote>
							<ul class="actions">
								<button onclick="reloadImage('pregunta2')">Cargar Gráfica</button>
							</ul>
						</div>
					</div>
				</section>
				<br>
				<section id="pregunta3"> <!-- Pregunta 3-->
					<img src="" data-src="https://sportswear-store-data-analysis-api.onrender.com/sales_by_section"
						alt="" data-position="center center" class="image" style="width: 750px" />
					<div class="content">
						<div class="inner">
							<h3>3. ¿Cuántas ventas se han realizado por cada sección?</h3>
							<p>Con este query se obtuvieron los datos:</p>
							<blockquote>Crea un POST a tabla compra para generar un registro</blockquote>
							<ul class="actions">
								<button onclick="reloadImage('pregunta3')">Cargar Gráfica</button>
							</ul>
						</div>
					</div>
				</section>
				<br>
				<section id="pregunta4"> <!-- Pregunta 4-->
					<img src="" data-src="https://sportswear-store-data-analysis-api.onrender.com/products_by_type"
						alt="" data-position="center center" class="image" style="width: 750px" />
					<div class="content">
						<div class="inner">
							<h3>4. ¿Cuántos productos de cada tipo tiene la tienda?</h3>
							<p>Con este query se obtuvieron los datos:</p>
							<blockquote>Crea un POST a tabla compra para generar un registro</blockquote>
							<ul class="actions">
								<button onclick="reloadImage('pregunta4')">Cargar Gráfica</button>
							</ul>
						</div>
					</div>
				</section>
				<br>
				<section id="pregunta5"> <!-- Pregunta 5-->
					<img src=""
						data-src="https://sportswear-store-data-analysis-api.onrender.com/top_3_expensive_products"
						alt="" data-position="center center" class="image" style="width: 750px" />
					<div class="content">
						<div class="inner">
							<h3>5. ¿Cuáles son los 3 productos más caros?</h3>
							<p>Con este query se obtuvieron los datos:</p>
							<blockquote>Crea un POST a tabla compra para generar un registro</blockquote>
							<ul class="actions">
								<button onclick="reloadImage('pregunta5')">Cargar Gráfica</button>
							</ul>
						</div>
					</div>
				</section>
				<br>
				<section id="pregunta6"> <!-- Pregunta 6-->
					<img src="" data-src="https://sportswear-store-data-analysis-api.onrender.com/sales_by_month" alt=""
						data-position="center center" class="image" style="width: 750px" />
					<div class="content">
						<div class="inner">
							<h3>6. ¿Cuál es el monto total de ventas por mes para cada año?</h3>
							<p>Con este query se obtuvieron los datos:</p>
							<blockquote>Crea un POST a tabla compra para generar un registro</blockquote>
							<ul class="actions">
								<button onclick="reloadImage('pregunta6')">Cargar Gráfica</button>
							</ul>
						</div>
					</div>
				</section>
				<br>
				<section id="pregunta7"> <!-- Pregunta 7-->
					<img src="" data-src="https://sportswear-store-data-analysis-api.onrender.com/average_client_age"
						alt="" data-position="center center" class="image" style="width: 750px" />
					<div class="content">
						<div class="inner">
							<h3>7. ¿Cuál es la edad promedio de los clientes por sexo?</h3>
							<p>Con este query se obtuvieron los datos:</p>
							<blockquote>Crea un POST a tabla compra para generar un registro</blockquote>
							<ul class="actions">
								<button onclick="reloadImage('pregunta7')">Cargar Gráfica</button>
							</ul>
						</div>
					</div>
				</section>
				<br>
				<section id="pregunta8"> <!-- Pregunta 8-->
					<img src=""
						data-src="https://sportswear-store-data-analysis-api.onrender.com/top_10_expensive_clients"
						alt="" data-position="center center" class="image" style="width: 750px" />
					<div class="content">
						<div class="inner">
							<h3>8. ¿Qué clientes han realizado las 10 compras más caras en términos de costo total?</h3>
							<p>Con este query se obtuvieron los datos:</p>
							<blockquote>Crea un POST a tabla compra para generar un registro</blockquote>
							<ul class="actions">
								<button onclick="reloadImage('pregunta8')">Cargar Gráfica</button>
							</ul>
						</div>
					</div>
				</section>
				<br>
				<section id="pregunta9"> <!-- Pregunta 9-->
					<img src=""
						data-src="https://sportswear-store-data-analysis-api.onrender.com/average_cost_by_section"
						alt="" data-position="center center" class="image" style="width: 750px" />
					<div class="content">
						<div class="inner">
							<h3>9. ¿Cuál es el coste medio de los artículos de cada sección (Hombre/Mujer/Nino)?</h3>
							<p>Con este query se obtuvieron los datos:</p>
							<blockquote>Crea un POST a tabla compra para generar un registro</blockquote>
							<ul class="actions">
								<button onclick="reloadImage('pregunta9')">Cargar Gráfica</button>
							</ul>
						</div>
					</div>
				</section>
				<br>
			</section>
		</section>

		<script>
			function loadImage(sectionId) {
				const section = document.getElementById(sectionId);
				const img = section.querySelector('img');
				const src = img.getAttribute('data-src');

				// Establece el atributo src con la URL real
				img.setAttribute('src', src);
			}

			function reloadImage(sectionId) {
				const section = document.getElementById(sectionId);
				const img = section.querySelector('img');
				const src = img.getAttribute('data-src');

				// Añade un parámetro único para evitar el caché del navegador
				img.setAttribute('src', `${src}?t=${new Date().getTime()}`);
			}
		</script>

		<!-- Three -->
		<section id="three" class="wrapper style1 fade-up">
			<div class="inner">
				<h2>Información de Envío</h2>
				<p>Digita la Información de envío para que tu compra sea llevada a domicilio</p>
				<div class="split style1">
					<section>
						<form id="envioForm">
							<div>
								<label for="direccion">Direccion:</label>
								<input type="text" id="direccion" name="direccion" required>
							</div>
							<div>
								<label for="Fecha_Envio">Fecha_Envio:</label>
								<input type="date" id="Fecha_Envio" name="Fecha_Envio" required
									style="color: black !important;">
							</div>
							<br>
							<div>
								<label for="codigopostal">Codigo Postal:</label>
								<input type="number" id="codigopostal" name="codigopostal" step="0.01" required
									style="color: black !important;">
							</div>
							<br>
							<div>
								<label for="precio">id_compra</label>
								<input type="number" id="precio" name="precio" step="0.01" required
									style="color: black !important;">
							</div>
							<br>
							<div>
								<label for="precio">id_lugar</label>
								<input type="number" id="precio" name="precio" step="0.01" required
									style="color: black !important;">
							</div>
							<br>
							<button type="submit">Agregar Envio</button>
						</form>
					</section>
				</div>
			</div>
		</section>

		<!-- Four -->
		<section id="four" class="wrapper style1 fade-up">
			<div class="inner">
				<h2>¿Estás seguro de realizar tu compra?</h2>
				<p>Aquí puedes cancelar o confirmar tu compra</p>
				<ul class="actions">
					<button class="button submit" style="background-color: green !important;">Confirmar</button>
					<button class="button submit" style="background-color: red !important;">Cancelar</button>
				</ul>
			</div>
		</section>

	</div>

	<!-- Footer -->
	<footer id="footer" class="wrapper style1-alt">
		<div class="inner">
			<ul class="menu">
			</ul>
		</div>
	</footer>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/jquery.scrolly.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

	<!-- Script para CRUDS-->
	<script src="crud_script.js"></script>

</body>

</html>